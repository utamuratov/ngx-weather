{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/app.component.ts","./src/app/app.module.ts","./src/app/app.routing.ts","./src/app/current-conditions/current-conditions.component.ts","./src/app/forecasts-list/forecasts-list.component.ts","./src/app/location.service.ts","./src/app/main-page/main-page.component.ts","./src/app/services/ng-destroy.service.ts","./src/app/weather.service.ts","./src/app/zipcode-entry/zipcode-entry.component.ts","./src/environments/environment.ts","./src/main.ts","./src/app/app.component.css","./src/app/current-conditions/current-conditions.component.css","./src/app/forecasts-list/forecasts-list.component.css"],"sourcesContent":["import { Component } from '@angular/core';\r\nimport {SwPush, SwUpdate} from '@angular/service-worker';\r\nimport {interval} from 'rxjs';\r\nimport {HttpClient} from '@angular/common/http';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n\r\n    constructor() {\r\n\r\n    }\r\n}\r\n","import { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { ZipcodeEntryComponent } from './zipcode-entry/zipcode-entry.component';\r\nimport {LocationService} from \"./location.service\";\r\nimport { ForecastsListComponent } from './forecasts-list/forecasts-list.component';\r\nimport {WeatherService} from \"./weather.service\";\r\nimport { CurrentConditionsComponent } from './current-conditions/current-conditions.component';\r\nimport { MainPageComponent } from './main-page/main-page.component';\r\nimport {RouterModule} from \"@angular/router\";\r\nimport {routing} from \"./app.routing\";\r\nimport {HttpClientModule} from \"@angular/common/http\";\r\nimport { ServiceWorkerModule } from '@angular/service-worker';\r\nimport { environment } from '../environments/environment';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    ZipcodeEntryComponent,\r\n    ForecastsListComponent,\r\n    CurrentConditionsComponent,\r\n    MainPageComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    FormsModule,\r\n    HttpClientModule,\r\n    RouterModule,\r\n    routing,\r\n    ServiceWorkerModule.register('/ngsw-worker.js', { enabled: environment.production })\r\n  ],\r\n  providers: [LocationService, WeatherService],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { ModuleWithProviders }  from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport {ForecastsListComponent} from \"./forecasts-list/forecasts-list.component\";\r\nimport {MainPageComponent} from \"./main-page/main-page.component\";\r\n\r\nconst appRoutes: Routes = [\r\n  {\r\n    path: '', component: MainPageComponent\r\n  },\r\n  {\r\n    path: 'forecast/:zipcode', component: ForecastsListComponent\r\n  }\r\n];\r\nexport const routing: ModuleWithProviders<any> = RouterModule.forRoot(appRoutes, {});\r\n","import { Component, inject, OnInit, Signal } from \"@angular/core\";\r\nimport { WeatherService } from \"../weather.service\";\r\nimport { LocationService } from \"../location.service\";\r\nimport { Router } from \"@angular/router\";\r\nimport { ConditionsAndZip } from \"../conditions-and-zip.type\";\r\nimport { NgDestroy } from \"app/services/ng-destroy.service\";\r\nimport { takeUntil } from \"rxjs/operators\";\r\n\r\nconst ACTIVE_TAB_INDEX = \"activeTabIndex\";\r\n\r\n@Component({\r\n  selector: \"app-current-conditions\",\r\n  templateUrl: \"./current-conditions.component.html\",\r\n  styleUrls: [\"./current-conditions.component.css\"],\r\n  providers: [NgDestroy],\r\n})\r\nexport class CurrentConditionsComponent implements OnInit {\r\n  private weatherService = inject(WeatherService);\r\n  private router = inject(Router);\r\n  protected locationService = inject(LocationService);\r\n  protected currentConditionsByZip: Signal<ConditionsAndZip[]> =\r\n    this.weatherService.getCurrentConditions();\r\n  $destroy = inject(NgDestroy);\r\n\r\n  public get activeTabIndex(): number {\r\n    const activeTabIndex = +localStorage.getItem(ACTIVE_TAB_INDEX);\r\n    return activeTabIndex;\r\n  }\r\n  public set activeTabIndex(v: number) {\r\n    localStorage.setItem(ACTIVE_TAB_INDEX, v.toString());\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.listenLocationsChange();\r\n  }\r\n\r\n  private listenLocationsChange() {\r\n    this.locationService.locations$\r\n      .asObservable()\r\n      .pipe(takeUntil(this.$destroy))\r\n      .subscribe((locations) => {\r\n        this.weatherService.getAllCurrentConditions(locations);\r\n      });\r\n  }\r\n\r\n  showForecast(zipcode: string) {\r\n    this.router.navigate([\"/forecast\", zipcode]);\r\n  }\r\n\r\n  removeCondition(e: PointerEvent, zipcode: string, index: number) {\r\n    e.stopPropagation();\r\n    this.locationService.removeLocation(zipcode);\r\n    if (index < this.activeTabIndex) this.activeTabIndex--;\r\n    else if (index === this.activeTabIndex) this.activeTabIndex = 0;\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\nimport {WeatherService} from '../weather.service';\r\nimport {ActivatedRoute} from '@angular/router';\r\nimport {Forecast} from './forecast.type';\r\n\r\n@Component({\r\n  selector: 'app-forecasts-list',\r\n  templateUrl: './forecasts-list.component.html',\r\n  styleUrls: ['./forecasts-list.component.css']\r\n})\r\nexport class ForecastsListComponent {\r\n\r\n  zipcode: string;\r\n  forecast: Forecast;\r\n\r\n  constructor(protected weatherService: WeatherService, route : ActivatedRoute) {\r\n    route.params.subscribe(params => {\r\n      this.zipcode = params['zipcode'];\r\n      weatherService.getForecast(this.zipcode)\r\n        .subscribe(data => this.forecast = data);\r\n    });\r\n  }\r\n}\r\n","import { Injectable } from \"@angular/core\";\r\nimport { BehaviorSubject } from \"rxjs\";\r\n\r\nexport const LOCATIONS: string = \"locations\";\r\n\r\n@Injectable()\r\nexport class LocationService {\r\n  locations: string[] = [];\r\n  locations$ = new BehaviorSubject<string[]>(this.locations);\r\n\r\n  constructor() {\r\n    let locationsString = localStorage.getItem(LOCATIONS);\r\n    if (locationsString) {\r\n      this.locations = JSON.parse(locationsString);\r\n      this.locations$.next(this.locations);\r\n    }\r\n  }\r\n\r\n  addLocation(zipcode: string) {\r\n    if (this.locations.indexOf(zipcode) !== -1) {\r\n      alert(\"Location already exists\");\r\n      return;\r\n    }\r\n\r\n    this.locations.push(zipcode);\r\n    localStorage.setItem(LOCATIONS, JSON.stringify(this.locations));\r\n    this.locations$.next(this.locations);\r\n  }\r\n\r\n  removeLocation(zipcode: string) {\r\n    let index = this.locations.indexOf(zipcode);\r\n    if (index !== -1) {\r\n      this.locations.splice(index, 1);\r\n      localStorage.setItem(LOCATIONS, JSON.stringify(this.locations));\r\n      this.locations$.next(this.locations);\r\n    }\r\n  }\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-main-page',\r\n  templateUrl: './main-page.component.html'\r\n})\r\nexport class MainPageComponent {\r\n\r\n}\r\n","import { Injectable, OnDestroy } from \"@angular/core\";\r\nimport { Subject } from \"rxjs\";\r\n\r\n@Injectable()\r\nexport class NgDestroy extends Subject<null> implements OnDestroy {\r\n  ngOnDestroy(): void {\r\n    this.next(null);\r\n    this.complete();\r\n  }\r\n}\r\n","import { Injectable, Signal, signal } from \"@angular/core\";\r\nimport { Observable, of } from \"rxjs\";\r\n\r\nimport { HttpClient } from \"@angular/common/http\";\r\nimport { CurrentConditions } from \"./current-conditions/current-conditions.type\";\r\nimport {\r\n  ConditionsAndZip,\r\n  ConditionsAndZipWithUpdatedDate,\r\n} from \"./conditions-and-zip.type\";\r\nimport {\r\n  Forecast,\r\n  ForecastWithUpdatedDate,\r\n} from \"./forecasts-list/forecast.type\";\r\nimport { tap } from \"rxjs/operators\";\r\n\r\nexport const DURATION_FOR_CACHE = 1000 * 60 * 60 * 2; // 2 hours\r\n@Injectable()\r\nexport class WeatherService {\r\n  static URL = \"https://api.openweathermap.org/data/2.5\";\r\n  static APPID = \"5a4b2d457ecbef9eb2a71e480b947604\";\r\n  static ICON_URL =\r\n    \"https://raw.githubusercontent.com/udacity/Sunshine-Version-2/sunshine_master/app/src/main/res/drawable-hdpi/\";\r\n  private currentConditions = signal<ConditionsAndZip[]>([]);\r\n\r\n  private isExpiredCacheData(updatedDate: string) {\r\n    const difference = new Date().getTime() - new Date(updatedDate).getTime();\r\n    return difference >= DURATION_FOR_CACHE;\r\n  }\r\n\r\n  private clearCurrentConditions() {\r\n    this.currentConditions.set([]);\r\n  }\r\n\r\n  private concatPrefixAndZipcode(\r\n    zipcode: string,\r\n    prefix: \"CurrentCondition-\" | \"Forecast-\" = \"CurrentCondition-\"\r\n  ): string {\r\n    return prefix + zipcode;\r\n  }\r\n\r\n  private getForecastKey(zipcode: string) {\r\n    return this.concatPrefixAndZipcode(zipcode, \"Forecast-\");\r\n  }\r\n\r\n  private getCurrentConditionKey(zipcode: string) {\r\n    return this.concatPrefixAndZipcode(zipcode, \"CurrentCondition-\");\r\n  }\r\n\r\n  private hasCurrentConditionOnCache(zipcode: string) {\r\n    const currentConditionsByZipcode: ConditionsAndZipWithUpdatedDate | null =\r\n      JSON.parse(localStorage.getItem(this.getCurrentConditionKey(zipcode)));\r\n\r\n    if (\r\n      currentConditionsByZipcode &&\r\n      !this.isExpiredCacheData(currentConditionsByZipcode.updatedDate)\r\n    ) {\r\n      this.currentConditions.mutate((conditions) =>\r\n        conditions.push({ ...currentConditionsByZipcode })\r\n      );\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  private getForecastOnCache(zipcode: string) {\r\n    const forecast: ForecastWithUpdatedDate | null = JSON.parse(\r\n      localStorage.getItem(this.getForecastKey(zipcode))\r\n    );\r\n    if (forecast && !this.isExpiredCacheData(forecast.updatedDate)) {\r\n      return forecast;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  constructor(private http: HttpClient) {}\r\n\r\n  getAllCurrentConditions(locations: string[]) {\r\n    this.clearCurrentConditions();\r\n    for (let loc of locations) this.addCurrentConditions(loc);\r\n  }\r\n\r\n  addCurrentConditions(zipcode: string): void {\r\n    if (this.hasCurrentConditionOnCache(zipcode)) return;\r\n\r\n    // Here we make a request to get the current conditions data from the API. Note the use of backticks and an expression to insert the zipcode\r\n    this.http\r\n      .get<CurrentConditions>(\r\n        `${WeatherService.URL}/weather?zip=${zipcode},us&units=imperial&APPID=${WeatherService.APPID}`\r\n      )\r\n      .subscribe((data) => {\r\n        const conditionsAndZip: ConditionsAndZipWithUpdatedDate = {\r\n          zip: zipcode,\r\n          data,\r\n          updatedDate: new Date().toLocaleString(),\r\n        };\r\n        localStorage.setItem(\r\n          this.getCurrentConditionKey(zipcode),\r\n          JSON.stringify(conditionsAndZip)\r\n        );\r\n        this.currentConditions.mutate((conditions) =>\r\n          conditions.push(conditionsAndZip)\r\n        );\r\n      });\r\n  }\r\n\r\n  removeCurrentConditions(zipcode: string) {\r\n    this.currentConditions.mutate((conditions) => {\r\n      for (let i in conditions) {\r\n        if (conditions[i].zip == zipcode) {\r\n          conditions.splice(+i, 1);\r\n        }\r\n      }\r\n    });\r\n  }\r\n\r\n  getCurrentConditions(): Signal<ConditionsAndZip[]> {\r\n    return this.currentConditions.asReadonly();\r\n  }\r\n\r\n  getForecast(zipcode: string): Observable<Forecast> {\r\n    const forecastOnCache = this.getForecastOnCache(zipcode);\r\n    if (forecastOnCache) return of(forecastOnCache);\r\n\r\n    // Here we make a request to get the forecast data from the API. Note the use of backticks and an expression to insert the zipcode\r\n    return this.http\r\n      .get<Forecast>(\r\n        `${WeatherService.URL}/forecast/daily?zip=${zipcode},us&units=imperial&cnt=5&APPID=${WeatherService.APPID}`\r\n      )\r\n      .pipe(\r\n        tap((data) => {\r\n          localStorage.setItem(\r\n            this.getForecastKey(zipcode),\r\n            JSON.stringify({\r\n              ...data,\r\n              updatedDate: new Date().toLocaleString(),\r\n            } as ForecastWithUpdatedDate)\r\n          );\r\n        })\r\n      );\r\n  }\r\n\r\n  getWeatherIcon(id): string {\r\n    if (id >= 200 && id <= 232)\r\n      return WeatherService.ICON_URL + \"art_storm.png\";\r\n    else if (id >= 501 && id <= 511)\r\n      return WeatherService.ICON_URL + \"art_rain.png\";\r\n    else if (id === 500 || (id >= 520 && id <= 531))\r\n      return WeatherService.ICON_URL + \"art_light_rain.png\";\r\n    else if (id >= 600 && id <= 622)\r\n      return WeatherService.ICON_URL + \"art_snow.png\";\r\n    else if (id >= 801 && id <= 804)\r\n      return WeatherService.ICON_URL + \"art_clouds.png\";\r\n    else if (id === 741 || id === 761)\r\n      return WeatherService.ICON_URL + \"art_fog.png\";\r\n    else return WeatherService.ICON_URL + \"art_clear.png\";\r\n  }\r\n}\r\n","import { Component } from \"@angular/core\";\r\nimport { LocationService } from \"../location.service\";\r\n\r\n@Component({\r\n  selector: \"app-zipcode-entry\",\r\n  templateUrl: \"./zipcode-entry.component.html\",\r\n})\r\nexport class ZipcodeEntryComponent {\r\n  constructor(private service: LocationService) {}\r\n\r\n  addLocation(zipcode: string) {\r\n    if (zipcode.length !== 5) return;\r\n    this.service.addLocation(zipcode);\r\n  }\r\n}\r\n","// The file contents for the current environment will overwrite these during build.\r\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\r\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\r\n// The list of which env maps to which file can be found in `.angular-cli.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, ``, \"\",{\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.close {\r\n  cursor: pointer;\r\n}\r\n\r\n.flex {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.nav-link.active {\r\n  border-color: #e4e4e4;\r\n  border-bottom: 0;\r\n}\r\n\r\n.nav-link .close {\r\n  margin-left: 5px;\r\n}\r\n\r\n.nav-item {\r\n  cursor: pointer;\r\n}\r\n\r\n.nav-tabs {\r\n  border: none;\r\n}\r\n\r\n.tab-set {\r\n  position: relative;\r\n}\r\n\r\n.tab-set .tab-item {\r\n  width: 100%;\r\n  padding: 20px;\r\n  border: 1px solid #ddd;\r\n  position: absolute;\r\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/current-conditions/current-conditions.component.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,eAAe;AACjB;;AAEA;EACE,aAAa;EACb,8BAA8B;AAChC;;AAEA;EACE,qBAAqB;EACrB,gBAAgB;AAClB;;AAEA;EACE,gBAAgB;AAClB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,kBAAkB;AACpB;;AAEA;EACE,WAAW;EACX,aAAa;EACb,sBAAsB;EACtB,kBAAkB;AACpB\",\"sourcesContent\":[\".close {\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.flex {\\r\\n  display: flex;\\r\\n  justify-content: space-between;\\r\\n}\\r\\n\\r\\n.nav-link.active {\\r\\n  border-color: #e4e4e4;\\r\\n  border-bottom: 0;\\r\\n}\\r\\n\\r\\n.nav-link .close {\\r\\n  margin-left: 5px;\\r\\n}\\r\\n\\r\\n.nav-item {\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.nav-tabs {\\r\\n  border: none;\\r\\n}\\r\\n\\r\\n.tab-set {\\r\\n  position: relative;\\r\\n}\\r\\n\\r\\n.tab-set .tab-item {\\r\\n  width: 100%;\\r\\n  padding: 20px;\\r\\n  border: 1px solid #ddd;\\r\\n  position: absolute;\\r\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n","// Imports\nvar ___CSS_LOADER_API_SOURCEMAP_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\");\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.icon {\r\n  width: 45px;\r\n  height: 45px;\r\n  position: absolute;\r\n  right: 20px;\r\n  top: -2px;\r\n}\r\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/app/forecasts-list/forecasts-list.component.css\"],\"names\":[],\"mappings\":\"AAAA;EACE,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,WAAW;EACX,SAAS;AACX\",\"sourcesContent\":[\".icon {\\r\\n  width: 45px;\\r\\n  height: 45px;\\r\\n  position: absolute;\\r\\n  right: 20px;\\r\\n  top: -2px;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___.toString();\n"],"names":["Component","AppComponent","_class","constructor","__decorate","selector","template","__NG_CLI_RESOURCE__0","BrowserModule","NgModule","FormsModule","ZipcodeEntryComponent","LocationService","ForecastsListComponent","WeatherService","CurrentConditionsComponent","MainPageComponent","RouterModule","routing","HttpClientModule","ServiceWorkerModule","environment","AppModule","declarations","imports","register","enabled","production","providers","bootstrap","appRoutes","path","component","forRoot","inject","Router","NgDestroy","takeUntil","ACTIVE_TAB_INDEX","weatherService","router","locationService","currentConditionsByZip","getCurrentConditions","$destroy","activeTabIndex","localStorage","getItem","v","setItem","toString","ngOnInit","listenLocationsChange","locations$","asObservable","pipe","subscribe","locations","getAllCurrentConditions","showForecast","zipcode","navigate","removeCondition","e","index","stopPropagation","removeLocation","ActivatedRoute","route","params","getForecast","data","forecast","Injectable","BehaviorSubject","LOCATIONS","locationsString","JSON","parse","next","addLocation","indexOf","alert","push","stringify","splice","Subject","ngOnDestroy","complete","signal","of","HttpClient","tap","DURATION_FOR_CACHE","WeatherService_1","isExpiredCacheData","updatedDate","difference","Date","getTime","clearCurrentConditions","currentConditions","set","concatPrefixAndZipcode","prefix","getForecastKey","getCurrentConditionKey","hasCurrentConditionOnCache","currentConditionsByZipcode","mutate","conditions","getForecastOnCache","http","loc","addCurrentConditions","get","URL","APPID","conditionsAndZip","zip","toLocaleString","removeCurrentConditions","i","asReadonly","forecastOnCache","getWeatherIcon","id","ICON_URL","service","length","enableProdMode","platformBrowserDynamic","bootstrapModule"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}